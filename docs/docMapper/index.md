DocMapper
=========

DocMapper is wrapper around [Flatdoc](http://ricostacruz.com/flatdoc/ "Flatdoc") javascript parser for generating simple documentation website from markdown files.

Instead of setting up a html template for each documentation file, DocMapper uses MVC kind of routing to load markdown files into a single html template. It sacrifice some other functionalities, but when you generate a lot if documentations for multiple projects, setting up new template for each project can be a pain.

All of the original Flatdoc functionalities are included, and can be edited in ` lib/template.php`. The documentation is written in markdown, so for reference read up on the official [markdown page](http://daringfireball.net/projects/markdown/).

For details on Flatdoc, read up on the official page [www.ricostacruz.com/flatdoc/](http://ricostacruz.com/flatdoc/)

Setup
-----
Use git clone or download the latest zip file.

For MVC routing to work you need a .htacces file in your root, here are some examples:
```
Options +SymLinksifOwnerMatch
RewriteEngine on
RewriteCond $1 !^(index\.php|docs|assets|robots\.txt)
RewriteRule ^(.*)$ index.php/$1 [L]
```
The codeigniter way, this will allow to fetch only the files specefoed in the `RewriteCond`. But sometimes this kind of routing will return the `500`error, so try something like this:

```
Options +SymLinksifOwnerMatch
RewriteEngine on
IndexIgnore */*
#if a directory or a file exists, use it directly
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !\.(js|ico|gif|jpg|png|css)$

#otherwise forward it to index.php
RewriteRule . index.php

```
After setting up the .htacces file your documentation will be accessible with an url of type `/project_name/markdown_file_name`

Adding documentation
--------------------
To add project documentation just create a folder in `docs/` folder, eg:
```
docs/
  docMapper/
    index.md
  myProject/
    index.md
    api.md
```

DocMapper will folow the url `/myProject` to `myProject/index.md` file and load the `index.md` in the flatdoc template. The default setting for and empty url is `docMapper/index.md` meanign that inf no url is given, DocMapper will load default documentation, the one you are reading. At the moment it is hardcode in `lib/router`, but global config will be added in the future.

Each documentation folder must have an `index.md` file, since it is the default file to be loaded if no file name is given in the url, so the url `/myProject/` will be resolved to `myProject/index.md`

File Naming
-----------
DocMapper will parse your folder project name and capitalize it, then include it in the template, so `myProject` will parse as `MyProject Documentation`.

For each of the files in the documentation project a link will be generated and put in the navigation header. Links are generated by parsing the file name, it will replace all `_` with empty spaces and remove the `.md` extension. Capitalization is left to the user, meaning the link will be parsed the same way as the file name (eg. `api_referance.md` will generate link title `api referance` with href `api_referance`, `Api_Referance.md` will generate link title `Api Referance` with href `Api_referance`).




The `index.md` file will be parsed as `Home` link in the navigation, so for example, a documentation project with structure:

```
docs/
  myProject/
    index.md
    Api_Referance.md
```
Will generate navigation with links `Home | Api Referance`. Api Referance link will have a href: `www.servername.com/myProject/Api_Referance` and will load `Api_Referance.md` file in the template to parse.

TODO
----

+ Add pdf parser, to generate pdf document from the markdown
+ Add global config file, for setting up default routes and defult folder structure  











